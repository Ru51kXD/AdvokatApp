# advokaty.kz - Маркетплейс юридических услуг

## Содержание

1. [Обзор проекта](#обзор-проекта)
2. [Технический стек](#технический-стек)
3. [Структура проекта](#структура-проекта)
4. [Установка и запуск](#установка-и-запуск)
5. [Основная функциональность](#основная-функциональность)
6. [Ключевые компоненты](#ключевые-компоненты)
   - [Аутентификация](#аутентификация)
   - [Запросы клиентов](#запросы-клиентов)
   - [Система чатов](#система-чатов)
   - [Профили пользователей](#профили-пользователей)
7. [Архитектура приложения](#архитектура-приложения)
8. [API и сервисы](#api-и-сервисы)
9. [Состояние приложения](#состояние-приложения)
10. [Навигация](#навигация)
11. [База данных](#база-данных)
12. [Подробное описание файлов и компонентов](#подробное-описание-файлов-и-компонентов)
13. [Известные ограничения](#известные-ограничения)
14. [Планы развития](#планы-развития)

## Обзор проекта

**advokaty.kz** - это мобильное приложение-маркетплейс, разработанное для соединения клиентов, нуждающихся в юридической помощи, с профессиональными юристами и адвокатами в Казахстане. Приложение позволяет клиентам размещать запросы на юридическую помощь, а юристам - откликаться на эти запросы. После принятия предложения юриста, клиент и юрист могут общаться через встроенную систему чатов.

Проект разработан на React Native с использованием Expo, что обеспечивает кроссплатформенность и удобство разработки. В качестве дипломного проекта, он демонстрирует практическое применение современных технологий мобильной разработки для решения реальных бизнес-задач.

## Технический стек

- **Фреймворк**: React Native с Expo
- **Язык программирования**: JavaScript (ES6+)
- **Управление состоянием**: React Context API
- **Хранение данных**: AsyncStorage, SQLite
- **Навигация**: React Navigation 6
- **UI компоненты**: Custom components, React Native Elements
- **Иконки**: Ionicons
- **Работа с изображениями**: Expo Image Picker
- **Работа с файлами**: Expo Document Picker, Expo FileSystem
- **Безопасность**: Базовая аутентификация, хэширование паролей

## Структура проекта

```
advokaty.kz/
├── assets/                  # Статические ресурсы (изображения, шрифты)
├── src/                     # Исходный код приложения
│   ├── components/          # Переиспользуемые компоненты
│   ├── constants/           # Константы и конфигурации
│   ├── contexts/            # React контексты для управления состоянием
│   ├── database/            # Настройка и управление базой данных
│   ├── navigation/          # Настройка навигации
│   ├── screens/             # Экраны приложения
│   │   ├── auth/            # Экраны аутентификации
│   │   ├── client/          # Экраны для клиентов
│   │   ├── lawyer/          # Экраны для юристов
│   │   ├── chat/            # Экраны чатов
│   │   └── common/          # Общие экраны
│   ├── services/            # Сервисы для работы с данными
│   └── utils/               # Вспомогательные функции
├── app.json                 # Конфигурация Expo
├── package.json             # Зависимости проекта
└── README.md                # Документация проекта
```

## Установка и запуск

1. **Клонировать репозиторий**:
   ```bash
   git clone https://github.com/username/advokaty.kz.git
   cd advokaty.kz
   ```

2. **Установить зависимости**:
   ```bash
   npm install
   ```

3. **Запустить в режиме разработки**:
   ```bash
   npx expo start
   ```

4. **Запуск на устройстве/эмуляторе**:
   - Отсканируйте QR-код с помощью Expo Go на Android
   - Отсканируйте QR-код с помощью камеры на iOS
   - Нажмите 'a' для запуска на Android эмуляторе
   - Нажмите 'i' для запуска на iOS симуляторе

## Основная функциональность

### Для клиентов:
- Регистрация и авторизация
- Создание запросов на юридическую помощь
- Просмотр профилей юристов
- Получение и управление откликами от юристов
- Общение с выбранным юристом через чат
- Управление личным профилем и настройками

### Для юристов:
- Регистрация и авторизация
- Просмотр доступных запросов
- Отправка откликов на запросы
- Общение с клиентами через чат
- Управление профилем и указание специализации

## Ключевые компоненты

### Аутентификация

Система аутентификации построена на React Context API и позволяет:
- Регистрировать новых пользователей
- Авторизовать существующих пользователей
- Сохранять состояние аутентификации между сеансами
- Разделять права доступа между клиентами и юристами

Ключевые файлы:
- `src/contexts/AuthContext.js` - Контекст для управления аутентификацией
- `src/screens/auth/LoginScreen.js` - Экран входа
- `src/screens/auth/RegisterScreen.js` - Экран регистрации

### Запросы клиентов

Система запросов позволяет клиентам создавать заявки на юридическую помощь, а юристам - откликаться на них:
- Клиенты могут создавать, просматривать и управлять своими запросами
- Юристы могут просматривать открытые запросы и откликаться на них
- Клиенты могут принимать или отклонять отклики юристов

Ключевые файлы:
- `src/services/RequestService.js` - Сервис для работы с запросами
- `src/screens/client/CreateRequestScreen.js` - Экран создания запроса
- `src/screens/client/MyRequestsScreen.js` - Экран управления запросами клиента
- `src/screens/lawyer/AvailableRequestsScreen.js` - Экран доступных запросов для юристов

### Система чатов

Встроенная система чатов позволяет клиентам и юристам общаться после принятия отклика:
- Создание чатов на основе принятых откликов
- Обмен текстовыми сообщениями
- Отправка изображений и файлов
- Индикация набора текста
- Уведомления о новых сообщениях

Ключевые файлы:
- `src/services/ChatService.js` - Сервис для работы с чатами
- `src/screens/chat/ChatScreen.js` - Экран чата
- `src/screens/chat/ConversationsScreen.js` - Экран списка чатов
- `src/components/ChatMessage.js` - Компонент сообщения

### Профили пользователей

Система профилей позволяет пользователям управлять своей информацией:
- Просмотр и редактирование личной информации
- Настройки уведомлений и приватности
- Для юристов - указание специализации и опыта работы
- Просмотр статистики по запросам

Ключевые файлы:
- `src/screens/client/ProfileScreen.js` - Профиль клиента
- `src/screens/lawyer/LawyerProfileScreen.js` - Профиль юриста
- `src/screens/common/SettingsScreen.js` - Экран настроек

## Архитектура приложения

Приложение построено на архитектуре, сочетающей элементы MVC (Model-View-Controller) и сервисно-ориентированной архитектуры:

- **Модель (Model)**: Реализована через сервисы и контексты, которые управляют данными
- **Представление (View)**: Реализовано через экраны и компоненты React Native
- **Контроллер (Controller)**: Логика обработки пользовательских действий распределена между компонентами и сервисами

Ключевые архитектурные особенности:
- **Разделение ответственности**: Каждый компонент и сервис имеет четкую зону ответственности
- **Переиспользуемость**: Общие компоненты вынесены в отдельные модули
- **Масштабируемость**: Архитектура позволяет легко добавлять новые функции
- **Тестируемость**: Бизнес-логика отделена от UI, что упрощает тестирование

## API и сервисы

Приложение использует следующие сервисы для работы с данными:

### RequestService

`src/services/RequestService.js` - Сервис для работы с запросами клиентов:
- `createRequest` - Создание нового запроса
- `getClientRequests` - Получение запросов клиента
- `getOpenRequests` - Получение открытых запросов для юристов
- `getRequestById` - Получение детальной информации о запросе
- `updateRequestStatus` - Обновление статуса запроса
- `createResponse` - Создание отклика на запрос
- `updateResponseStatus` - Обновление статуса отклика
- `getRequestsStatistics` - Получение статистики по запросам

### ChatService

`src/services/ChatService.js` - Сервис для работы с чатами:
- `getConversations` - Получение списка чатов пользователя
- `getMessages` - Получение сообщений чата
- `sendMessage` - Отправка сообщения
- `markMessagesAsRead` - Отметка сообщений как прочитанных
- `setUserTyping` - Установка статуса "печатает"
- `uploadAttachment` - Загрузка вложения

### LawyerService

`src/services/LawyerService.js` - Сервис для работы с данными юристов:
- `getLawyers` - Получение списка юристов
- `getLawyerById` - Получение информации о юристе
- `updateLawyerProfile` - Обновление профиля юриста
- `rateLawyer` - Оценка юриста
- `searchLawyers` - Поиск юристов по критериям

### ImageService

`src/services/ImageService.js` - Сервис для работы с изображениями:
- `uploadImage` - Загрузка изображения
- `getImageUri` - Получение URI изображения

### SeedDataService

`src/services/SeedDataService.js` - Сервис для заполнения базы данных тестовыми данными:
- `seedDatabase` - Заполнение базы тестовыми данными
- `clearDatabase` - Очистка базы данных

## Состояние приложения

Управление состоянием приложения осуществляется с помощью React Context API:

### AuthContext

`src/contexts/AuthContext.js` - Контекст для управления аутентификацией:
- Хранение данных текущего пользователя
- Регистрация и авторизация
- Выход из системы
- Проверка состояния аутентификации

### PermissionsContext

`src/contexts/PermissionsContext.js` - Контекст для управления разрешениями:
- Управление разрешениями на доступ к камере, галерее и файловой системе
- Запрос разрешений у пользователя
- Проверка статуса разрешений

## Навигация

Навигация в приложении реализована с помощью React Navigation 6:

`src/navigation/index.js` - Основной файл навигации:
- `AuthStack` - Стек экранов аутентификации
- `ClientStack` - Стек экранов для клиентов
- `LawyerStack` - Стек экранов для юристов
- `ChatStack` - Стек экранов чатов
- `MainTabs` - Основные вкладки приложения

`src/navigation/AppNavigator.js` - Навигатор приложения:
- Управление переключением между авторизованными и неавторизованными состояниями
- Инициализация начальных данных

## База данных

Приложение использует комбинацию AsyncStorage и SQLite для хранения данных:

`src/database/database.js` - Настройка и инициализация базы данных:
- Создание таблиц
- Управление соединениями
- Миграции

### Структура базы данных

Основные таблицы:
- `users` - Пользователи системы
- `lawyers` - Профили юристов
- `requests` - Запросы клиентов
- `responses` - Отклики юристов на запросы
- `conversations` - Чаты между пользователями
- `messages` - Сообщения в чатах
- `attachments` - Вложения к сообщениям
- `ratings` - Оценки юристов

## Подробное описание файлов и компонентов

### Константы

`src/constants/index.js` - Основные константы приложения:
- `COLORS` - Цветовая схема приложения
- `FONTS` - Настройки шрифтов
- `SIZES` - Размеры элементов интерфейса
- `SHADOWS` - Тени для элементов
- `LAW_AREAS` - Области права
- `PRICE_RANGES` - Ценовые диапазоны
- `EXPERIENCE_OPTIONS` - Опции опыта работы
- `KAZAKHSTAN_CITIES` - Города Казахстана
- `REQUEST_STATUS` - Статусы запросов
- `RESPONSE_STATUS` - Статусы откликов

### Компоненты

#### Общие компоненты

`src/components/Button.js` - Кастомная кнопка:
- Поддержка различных вариантов стилей
- Обработка состояний загрузки и отключения
- Настраиваемый внешний вид

`src/components/Card.js` - Компонент карточки:
- Стилизованный контейнер для контента
- Настраиваемые тени и скругления

`src/components/Input.js` - Компонент ввода:
- Поддержка различных типов ввода
- Валидация ввода
- Отображение ошибок

`src/components/Avatar.js` - Компонент аватара:
- Отображение изображения пользователя
- Заполнитель по умолчанию
- Различные размеры

#### Компоненты для запросов

`src/components/RequestCard.js` - Карточка запроса:
- Отображение основной информации о запросе
- Индикация статуса
- Обработка нажатий

`src/components/ResponseCard.js` - Карточка отклика:
- Отображение информации об отклике юриста
- Кнопки принятия/отклонения для клиента
- Отображение статуса для юриста

#### Компоненты для чатов

`src/components/ChatMessage.js` - Компонент сообщения в чате:
- Отображение текста сообщения
- Поддержка вложений (изображения, файлы)
- Отображение времени отправки
- Индикация статуса прочтения

`src/components/ConversationItem.js` - Элемент списка чатов:
- Отображение информации о собеседнике
- Предпросмотр последнего сообщения
- Индикация непрочитанных сообщений

### Экраны

#### Экраны аутентификации

`src/screens/auth/LoginScreen.js` - Экран входа:
- Форма ввода логина и пароля
- Обработка ошибок авторизации
- Ссылка на экран регистрации
- Опция "Запомнить меня"

`src/screens/auth/RegisterScreen.js` - Экран регистрации:
- Форма регистрации с основными полями
- Выбор типа пользователя (клиент/юрист)
- Валидация данных
- Обработка ошибок регистрации

`src/screens/auth/ForgotPasswordScreen.js` - Экран восстановления пароля:
- Форма ввода email
- Отправка инструкций по восстановлению

#### Экраны клиента

`src/screens/client/HomeScreen.js` - Главный экран клиента:
- Приветствие пользователя
- Краткая статистика по запросам
- Список популярных юристов
- Быстрый доступ к созданию запроса

`src/screens/client/CreateRequestScreen.js` - Экран создания запроса:
- Форма с полями для создания запроса
- Выбор области права
- Указание ценового диапазона
- Возможность прикрепить документы

`src/screens/client/MyRequestsScreen.js` - Экран запросов клиента:
- Список запросов пользователя
- Фильтрация по статусу
- Индикация новых откликов
- Переход к деталям запроса

`src/screens/client/RequestDetailScreen.js` - Экран деталей запроса:
- Подробная информация о запросе
- Список откликов от юристов
- Функции принятия/отклонения откликов
- Переход к чату с выбранным юристом

`src/screens/client/LawyerListScreen.js` - Экран списка юристов:
- Список доступных юристов
- Поиск и фильтрация
- Сортировка по рейтингу и опыту
- Переход к профилю юриста

`src/screens/client/LawyerDetailScreen.js` - Экран профиля юриста:
- Подробная информация о юристе
- Специализация и опыт
- Отзывы и рейтинг
- Кнопка связи с юристом

`src/screens/client/ProfileScreen.js` - Экран профиля клиента:
- Личная информация пользователя
- Статистика по запросам
- Настройки профиля
- Управление аккаунтом

#### Экраны юриста

`src/screens/lawyer/HomeScreen.js` - Главный экран юриста:
- Приветствие пользователя
- Краткая статистика по откликам
- Быстрый доступ к открытым запросам

`src/screens/lawyer/AvailableRequestsScreen.js` - Экран доступных запросов:
- Список открытых запросов
- Фильтрация по областям права и бюджету
- Поиск запросов
- Переход к деталям запроса

`src/screens/lawyer/RequestDetailScreen.js` - Экран деталей запроса:
- Подробная информация о запросе
- Форма для отправки отклика
- Информация о клиенте
- Статус отклика, если уже отправлен

`src/screens/lawyer/MyResponsesScreen.js` - Экран откликов юриста:
- Список отправленных откликов
- Статусы откликов (ожидание, принят, отклонен)
- Переход к деталям запроса
- Переход к чату, если отклик принят

`src/screens/lawyer/LawyerProfileScreen.js` - Экран профиля юриста:
- Управление профессиональной информацией
- Указание специализации и опыта
- Загрузка сертификатов и документов
- Настройки видимости профиля

#### Экраны чатов

`src/screens/chat/ConversationsScreen.js` - Экран списка чатов:
- Список активных чатов
- Индикация непрочитанных сообщений
- Поиск по собеседникам
- Переход к конкретному чату

`src/screens/chat/ChatScreen.js` - Экран чата:
- Обмен сообщениями в реальном времени
- Отправка текста, изображений и файлов
- Индикация "печатает..."
- Просмотр вложений

#### Общие экраны

`src/screens/common/NotificationsScreen.js` - Экран уведомлений:
- Список уведомлений пользователя
- Маркировка прочитанных/непрочитанных
- Переход к связанным экранам

`src/screens/common/SettingsScreen.js` - Экран настроек:
- Общие настройки приложения
- Настройки уведомлений
- Настройки приватности
- Информация о приложении

`src/screens/common/SupportScreen.js` - Экран поддержки:
- Часто задаваемые вопросы
- Форма обратной связи
- Контактная информация

## Известные ограничения

- Приложение работает в демо-режиме с локальным хранилищем данных
- Отсутствует интеграция с реальными платежными системами
- Нет push-уведомлений в реальном времени
- Ограниченная поддержка офлайн-режима
- Демо-данные используются для иллюстрации функционала

## Планы развития

### Краткосрочные планы
- Интеграция с реальным бэкендом и API
- Добавление push-уведомлений
- Улучшение пользовательского интерфейса
- Расширение функциональности чатов

### Среднесрочные планы
- Интеграция с платежными системами
- Добавление видеоконсультаций
- Расширенный поиск и фильтрация
- Система рейтингов и отзывов

### Долгосрочные планы
- Масштабирование на другие регионы
- Интеграция с государственными сервисами
- Разработка веб-версии
- Аналитика и рекомендательная система
